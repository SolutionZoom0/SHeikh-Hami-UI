(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{7952:function(e,a,s){Promise.resolve().then(s.bind(s,7271))},7271:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return o}});var t=s(7437),n=s(2265),i=s(71),c=s(7138),l=s(2210);async function r(e){let a=await fetch("https://us-central1-sheikhhami-d00bd.cloudfunctions.net/readData?collection=Fatwa&_start=".concat((e-1)*10,"&_limit=").concat(10));if(!a.ok)throw Error("Failed to fetch data");return{data:await a.json()}}function o(){let[e,a]=(0,n.useState)(1),[s,o]=(0,n.useState)([]),[d,h]=(0,n.useState)(!1),[m,u]=(0,n.useState)(0),[x,j]=(0,n.useState)(!1),[p,f]=(0,n.useState)(""),[b,g]=(0,n.useState)(null),v=(0,l.Z)(),N=Math.ceil(m/10),w=async e=>{let a={data:{name:e.name,email:e.email,subject:e.subject,question:e.question,answer:p,publishDate:new Date},collection:"Fatwa",id:e.id};try{(await fetch("https://us-central1-sheikhhami-d00bd.cloudfunctions.net/updateData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok&&h(!1)}catch(e){alert("Failed to submit the form. Please try again later.")}},k=e=>f(e.target.value);(0,n.useEffect)(()=>{(async()=>{j(!0);try{let{data:a}=await r(e);console.log(a.data),o(a.data),u(a.totalPosts)}catch(e){console.error("Error fetching blog items:",e)}finally{j(!1)}})()},[e,d]);let y=e=>{a(e)},C=e=>{h(!1),g(b===e?null:e)};return(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"col-xl-8",children:(0,t.jsx)("div",{className:"card content-box-card",children:(0,t.jsxs)("div",{className:"card-body portfolio-card",children:[(0,t.jsx)("div",{className:"top-info",children:(0,t.jsx)("div",{className:"text",children:(0,t.jsx)("h1",{className:"main-title",children:"Recent Questions to the Sheikh"})})}),(0,t.jsx)("div",{className:"article-publications article-area",children:(0,t.jsx)("div",{className:"article-publications-main",children:x?(0,t.jsx)("p",{children:"Loading..."}):(0,t.jsx)("div",{className:"accordion mt-4",id:"accordionExample",children:s.map(e=>(e.answer||"Admin"===v.role)&&(0,t.jsxs)("div",{className:"accordion-item",children:[(0,t.jsx)("h2",{className:"accordion-header",id:"heading".concat(e.id),children:(0,t.jsx)("button",{className:"accordion-button",type:"button",onClick:()=>C(e.id),"aria-expanded":b===e.id?"true":"false","aria-controls":"collapse".concat(e.id),children:e.question})}),(0,t.jsx)("div",{id:"collapse".concat(e.id),className:"accordion-collapse collapse ".concat(b===e.id?"show":""),"aria-labelledby":"heading".concat(e.id),"data-bs-parent":"#accordionExample",children:(0,t.jsxs)("div",{className:"accordion-body",style:{display:"flex",justifyContent:"space-between"},children:[!d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:e.answer?e.answer:"No answers yet"}),"Admin"===v.role&&(0,t.jsx)(c.default,{href:"#",className:"lets-talk-btn",onClick:a=>{a.preventDefault(),h(!0),f(e.answer)},children:e.answer?"Edit":"Reply"})]}),d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{name:"title",onChange:k,value:p,required:!0,className:"form-control shadow-none",cols:"30",rows:"10",children:e.answer}),(0,t.jsx)(c.default,{href:"#",className:"lets-talk-btn",onClick:a=>{a.preventDefault(),w(e)},children:"Save"})]})]})})]},e.id))})})}),(0,t.jsx)("div",{className:"pagination",children:(0,t.jsxs)("ul",{className:"list-unstyled",children:[(0,t.jsx)("li",{className:"prev",children:e>1&&(0,t.jsx)("button",{onClick:()=>y(e-1),children:(0,t.jsx)("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})})}),Array.from({length:N},(a,s)=>(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>y(s+1),className:e===s+1?"active":"",children:s+1})},s)),(0,t.jsx)("li",{className:"next",children:e<N&&(0,t.jsx)("button",{onClick:()=>y(e+1),children:(0,t.jsx)("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})})})]})})]})})})})}},71:function(e,a,s){"use strict";s.d(a,{Z:function(){return d}});var t=s(7437),n=s(1430),i=()=>(0,t.jsxs)("div",{className:"background-shapes",children:[(0,t.jsx)("div",{className:"shape-1 common-shape",children:(0,t.jsx)("img",{src:"assets/img/bg/banner-shape-1.png",alt:"banner-shape-1"})}),(0,t.jsx)("div",{className:"shape-2 common-shape",children:(0,t.jsx)("img",{src:"assets/img/bg/banner-shape-1.png",alt:"banner-shape-1"})}),(0,t.jsx)("div",{className:"threed-shape-1 move-with-cursor","data-value":1,children:(0,t.jsx)("img",{src:"assets/img/bg/object-3d-1.png",alt:"object-3d-1"})}),(0,t.jsx)("div",{className:"threed-shape-2 move-with-cursor","data-value":1,children:(0,t.jsx)("img",{src:"assets/img/bg/object-3d-2.png",alt:"object-3d-2"})})]}),c=s(4463),l=()=>(0,t.jsx)("footer",{className:"footer-area",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"text text-center",children:(0,t.jsxs)("p",{children:["@ Sheikh Hami ",new Date().getFullYear(),", Design By"," ",(0,t.jsx)("a",{target:"_blank",href:"https://github.com/SolutionZoom",children:"SolutionZoom LLC"})]})})})}),r=s(6930),o=s(2265),d=e=>{let{children:a,homePage:s=!1}=e;return(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)(c.default,{}),(0,t.jsx)(r.default,{}),(0,t.jsxs)("main",{children:[(0,t.jsx)("section",{className:s?"home-area":"content-box-area mt-4",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsx)("div",{className:"col-xl-4",children:(0,t.jsx)(n.default,{})}),a]})})}),(0,t.jsx)(i,{})]}),(0,t.jsx)(l,{})]})}}},function(e){e.O(0,[400,962,819,971,23,744],function(){return e(e.s=7952)}),_N_E=e.O()}]);